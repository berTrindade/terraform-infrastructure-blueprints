# Blueprint Manifest: apigw-eventbridge-lambda
# REST API with EventBridge integration for event-driven architecture
name: apigw-eventbridge-lambda
description: REST API with EventBridge integration for event-driven architecture
version: 1.0.0

snippets:
  - id: lambda-function
    name: Lambda Function
    description: Lambda function triggered by EventBridge events
    template: lambda-function.tftpl
    output_file: modules/compute/lambda.tf
    variables:
      - name: function_name
        type: string
        required: true
        description: Lambda function name
        pattern: "^[a-z0-9-]+$"
      
      - name: runtime
        type: string
        required: false
        default: "nodejs20.x"
        description: Lambda runtime
        enum: ["nodejs18.x", "nodejs20.x", "python3.11", "python3.12"]
      
      - name: handler
        type: string
        required: true
        description: Lambda handler (e.g., index.handler)
      
      - name: timeout
        type: number
        required: false
        default: 30
        description: Lambda timeout in seconds
      
      - name: memory_size
        type: number
        required: false
        default: 256
        description: Lambda memory size in MB
        enum: [128, 256, 512, 1024, 2048, 3008]
      
      - name: environment_variables
        type: string
        required: false
        default: ""
        description: Environment variables as JSON string
