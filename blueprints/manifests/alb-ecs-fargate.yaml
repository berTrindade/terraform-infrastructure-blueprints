# Blueprint Manifest: alb-ecs-fargate
# Containerized REST API on Amazon ECS Fargate with Application Load Balancer
name: alb-ecs-fargate
description: Containerized REST API on Amazon ECS Fargate with Application Load Balancer
version: 1.0.0

snippets:
  - id: ecs-service
    name: ECS Service
    description: ECS Fargate service with task definition
    template: ecs-service.tf.template
    output_file: modules/service/main.tf
    variables:
      - name: service_name
        type: string
        required: true
        description: Name of the ECS service
        pattern: "^[a-z0-9-]+$"
      
      - name: task_cpu
        type: number
        required: false
        default: 256
        description: Task CPU units
        enum: [256, 512, 1024, 2048, 4096]
      
      - name: task_memory
        type: number
        required: false
        default: 512
        description: Task memory in MB
        enum: [512, 1024, 2048, 3072, 4096, 5120, 6144, 7168, 8192]
      
      - name: container_image
        type: string
        required: true
        description: Container image URI
      
      - name: container_name
        type: string
        required: false
        default: "api"
        description: Container name
      
      - name: container_port
        type: number
        required: false
        default: 3000
        description: Container port
      
      - name: desired_count
        type: number
        required: false
        default: 1
        description: Desired number of tasks
